<!DOCTYPE html>
<html class="code-post">
<head>
    <meta http-equiv="Content-Type"  content="text/html; charset=utf-8">
    <meta charset="utf-8"/>

    <title>Metalsmith - build.js | &amp;! (bnb, bang, bitandbang)</title> <!-- Title of the page -->

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="../favicon.ico"> <!-- Add your favicon -->

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"> <!-- Icon font for navbar. -->
    <link rel="stylesheet" href="http://brick.a.ssl.fastly.net/TeX+Gyre+Heros:400,700:f/Source+Serif+Pro:400/Playfair+Display:700i/Alegreya:400i,700i"> <!-- serif/sans serif typography -->

    <link rel="stylesheet" href="../assets/css/normalize.css"> <!-- normalize all the styles! -->
    <link rel="stylesheet" href="../assets/css/main.css"> <!-- Use main css attributes. -->

      <link rel="stylesheet" href="../assets/css/snippets.css"> <!-- Call custom CSS for collection type, if there is a collection attribute on the metadata (front-matter) for the page. -->

</head>

<body>
    <header class="top"> <!-- Header element -->
      <div class="headerContainer">
        <nav>
          <ul> <!-- List the social media icons with links using Font Awesome icons -->
            <li><a href="../blog.html"><i class="fa fa-paragraph"></i></a></li>
            <li><a href="../code.html"><i class="fa fa-code-fork"></i></a></li>
            <li><a href="https://bnb.cupcake.is"><i class="fa fa-chevron-up"></i></a></li>
            <li><a href="https://twitter.com/bitandbang"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://github.com/bnb"><i class="fa fa-github-alt"></i></a></li>
            <li><a href="https://keybase.io/bang"><i class="fa fa-eye-slash"></i></a></li>
          </ul>
        </nav>
        <a href="../index.html" class="logoLink"><h1 class="logo">bnb</h1></a> <!-- Link the logo back to the index of the site. -->
      </div>
    </header>

    <div id="main">
        <div class="container">

            <article>

              <div class="code-item">
                  <div class="code-meta">
                    <h1 class="code-title">Metalsmith - build.js</h1></a>
                    <span class="datetime"><time>December 10, 2015 at 1:09PM</time></span>
                  </div>
                  <div class="content code-block">
                   <pre><code class="language-js"><span class="token keyword">var</span> metalsmith  <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;metalsmith&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> markdown    <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;metalsmith-markdown&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> prism       <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;metalsmith-prism&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> assets      <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;metalsmith-assets&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> collections <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;metalsmith-collections&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> layouts     <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;metalsmith-layouts&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment" spellcheck="true">// DEBUG Function</span>
<span class="token comment" spellcheck="true">// Uncomment to console.log() at every .use() step for fine-grain debugging</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">// var plugin = function(files, metalsmith, done) {</span>
<span class="token comment" spellcheck="true">//     console.log(files);</span>
<span class="token comment" spellcheck="true">//     done();</span>
<span class="token comment" spellcheck="true">// };</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">// USAGE:</span>
<span class="token comment" spellcheck="true">//  .use(plugin)</span>



<span class="token function">metalsmith</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">markdown</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// Convert Markdown to HTML, using smartypants, GitHub markdown, and table syntax.</span>
    smartypants<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    gfm<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    tables<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    langPrefix<span class="token punctuation">:</span> <span class="token string">&apos;language-&apos;</span> <span class="token comment" spellcheck="true">//For Prism&apos;s use.</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">prism</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//Make the code syntax highlighting work.</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">assets</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// Compiles assets from working directory to build directory.</span>
    source<span class="token punctuation">:</span> <span class="token string">&apos;./assets&apos;</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// relative to the working directory</span>
    destination<span class="token punctuation">:</span> <span class="token string">&apos;./assets&apos;</span> <span class="token comment" spellcheck="true">// relative to the build directory</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">collections</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// Collections - use these to categorize different types of pages.</span>
    <span class="token string">&apos;blog-post&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// We&apos;re only using a blog-post type of page for now.</span>
      <span class="token string">&apos;sort-by&apos;</span><span class="token punctuation">:</span> <span class="token string">&apos;date&apos;</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// Organizes posts by the `date` front-matter.</span>
      <span class="token string">&apos;reverse&apos;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// Reverse chronological order (newest first).</span>
      <span class="token string">&apos;refer&apos;</span>  <span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment" spellcheck="true">// Adds a reference to the next post in the series.</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">layouts</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//Layouts plugin</span>
    engine<span class="token punctuation">:</span> <span class="token string">&quot;handlebars&quot;</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// Use Handlebars.</span>
    partials<span class="token punctuation">:</span> <span class="token string">&quot;partials&quot;</span> <span class="token comment" spellcheck="true">// Partials are in the &quot;partials&quot; directory.</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// Can we build it? Yes we can!</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// This throws all errors.</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

                  </div>
                </div>
              </ul>
            </article>

        </div>
    </div>

</body>
</html>
